<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>
<body data-ng-app="MovieApp">
  <main data-ng-init="moviectrl.getMovies()" data-ng-controller="MovieController as moviectrl">
    <ul>
      <!-- <li data-ng-repeat="movie in moviectrl.movies" data-ng-init="movie.rdate = movie.release_date | amDateFormat:'MM/DD/YYYY'"> -->
      <li data-ng-repeat="movie in moviectrl.movies">
        <p>Movie Title: {{movie.name}}</p>
        <!-- <p>Release Date: {{movie.release_date | amDateFormat:'MM/DD/YYYY'}}</p> -->
        <p>Release Date: {{moviectrl.rdate(movie)}}</p>
        <section data-ng-hide="!movie.showEdit">
          <form data-ng-submit="moviectrl.editMovie(movie)">
            <input type="text" data-ng-model="oldMovie.name" data-ng-init="oldMovie.name=movie.name">
            <input type="text" data-ng-model="oldMovie.release_date" data-ng-init="oldMovie.release_date=moviectrl.rdate(movie)">
            <button type="submit">Submit Edit</button>
            <button ng-click="moviectrl.cancelEdit(movie)">Cancel Edit</button>
          </form>
        </section>
        <p>
          <button data-ng-click="moviectrl.removeMovie(movie)">Delete</button>
          <button data-ng-click="moviectrl.showEditFlip(movie)">Edit</button>
        </p>
      </li>
    </ul>
    <form data-ng-submit="moviectrl.createMovie(newMovie)">
      <input type="text" data-ng-model="newMovie.name">
      <input type="date" data-ng-model="newMovie.release_date">
      <button type="submit">New Movie</button>
    </form>
  </main>
  <script src="./bundle.js" type="text/javascript"></script>
</body>
</html>
